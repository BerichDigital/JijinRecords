# 基金投资记录助手

一个简洁易用的基金投资记录管理工具，支持Excel格式的数据导入导出。

## 功能特点

- 📊 **投资概览**: 实时显示总投入、市值、手续费、盈亏和收益率
- 💼 **持仓管理**: 详细记录每只基金的持仓信息
- 📝 **交易记录**: 完整的买入卖出历史记录
- 📁 **数据管理**: Excel格式的数据导入导出功能
- 💾 **本地存储**: 数据安全保存在浏览器本地

## 快速开始

### 安装依赖

```bash
npm install
```

### 启动开发服务器

```bash
npm run dev
```

访问 [http://localhost:3000](http://localhost:3000) 开始使用。

## 数据管理功能

### 数据导出

1. 点击页面右上角的"数据管理"按钮
2. 点击"导出到Excel"
3. 系统会生成包含以下工作表的Excel文件：
   - 交易记录：所有买入卖出记录
   - 持仓详情：当前持仓情况
   - 账户概览：投资总览数据
   - 基金净值：各基金当前净值

### 数据导入

1. 点击"从Excel导入"
2. 选择之前导出的Excel文件
3. 系统会自动读取"交易记录"工作表中的数据
4. 持仓和收益会根据交易记录自动重新计算

### 数据备份建议

- 定期导出数据作为备份
- 在清空数据前务必先导出
- 可以在不同设备间通过Excel文件传输数据

## 计算逻辑

### 投资概览计算

- **总投入**: 所有买入交易金额的总和
- **当前市值**: 持仓数量 × 当前净值
- **总手续费**: 所有交易手续费的总和
- **总盈亏**: 当前市值 - 总投入 - 总手续费
- **总收益率**: 总盈亏 ÷ (当前市值 - 总盈亏) × 100%

### 单只基金计算

- **持仓成本**: 该基金所有买入的平均成本
- **当前价值**: 持仓数量 × 当前净值
- **盈亏金额**: 当前价值 - 总成本
- **收益率**: 盈亏金额 ÷ 总成本 × 100%

## 技术栈

- **框架**: Next.js 15 + React 19
- **样式**: Tailwind CSS + shadcn/ui
- **状态管理**: Zustand
- **数据处理**: xlsx (Excel文件处理)
- **通知**: Sonner
- **图标**: Lucide React

## 项目结构

```
src/
├── app/
│   └── page.tsx          # 主页面
├── components/
│   ├── ui/               # shadcn/ui 组件
│   └── DataManager.tsx   # 数据导入导出组件
├── lib/
│   └── utils.ts          # 工具函数
└── store/
    └── fund.ts           # Zustand 状态管理
```

## 开发指南

### 添加新功能

1. 在 `store/fund.ts` 中添加新的状态和方法
2. 在 `components/` 中创建新的 UI 组件
3. 更新 `DataManager.tsx` 中的数据导入导出逻辑

## 部署

### Vercel 部署

1. 将代码推送到 GitHub
2. 在 Vercel 中导入项目
3. 自动部署完成

### 其他平台

项目是标准的 Next.js 应用，可以部署到任何支持 Node.js 的平台。

## 许可证

MIT License

## 贡献

欢迎提交 Issue 和 Pull Request！

## 更新日志

### v2.0.0
- 移除云同步功能，改为Excel数据管理
- 增加总手续费统计
- 优化计算逻辑：总盈亏 = 当前市值 - 总投入 - 总手续费
- 更新收益率计算公式
- 支持Excel格式的数据导入导出

### v1.0.0
- 基础功能实现
- 多设备数据同步
- JSONBin.io 集成